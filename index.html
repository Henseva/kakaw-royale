import { useState, useEffect, useRef } from "react";

// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const categories = [
  { emoji: "ğŸ•", label: "Pizza",     q: "pizza" },
  { emoji: "ğŸ”", label: "Burger",    q: "burger" },
  { emoji: "ğŸ£", label: "JaponÃªs",   q: "sushi" },
  { emoji: "ğŸ¥©", label: "Churrasco", q: "churrasco" },
  { emoji: "ğŸ", label: "Massas",    q: "massa+italiana" },
  { emoji: "ğŸŒ®", label: "Mexicano",  q: "tacos+mexicano" },
  { emoji: "ğŸ‡", label: "AÃ§aÃ­",      q: "acai" },
  { emoji: "ğŸ¥—", label: "SaudÃ¡vel",  q: "saudavel+salada" },
  { emoji: "ğŸ—", label: "Frango",    q: "frango+frito" },
  { emoji: "ğŸ°", label: "Doces",     q: "sobremesa+doce" },
  { emoji: "ğŸ¥¦", label: "Vegano",    q: "vegano" },
  { emoji: "ğŸ§ƒ", label: "Bebidas",   q: "bebida+suco" },
];

const dishes = [
  { emoji:"ğŸ•", badge:"ğŸ”¥ Mais pedido", from:"Bella Napoli",   stars:"4.9", name:"Pizza Margherita Trufada",  desc:"Massa artesanal fermentada, molho San Marzano, mozzarella de bÃºfala e trufa negra.", price:"54", time:"25min", frete:"GrÃ¡tis", q:"pizza+margherita+artesanal",     bg:"linear-gradient(135deg,#1a0f05,#2a1809)", tag:"Mais pedidos" },
  { emoji:"ğŸ±", badge:"âœ¦ Premium",     from:"Sakura House",    stars:"4.8", name:"Combinado do Chef",          desc:"30 peÃ§as com salmÃ£o premium, atum fresco, polvinho e temaki especial da casa.",  price:"89", time:"35min", frete:"R$5",    q:"combinado+sushi+especial",       bg:"linear-gradient(135deg,#091a11,#0c2516)", tag:"Premium" },
  { emoji:"ğŸ”", badge:"âš¡ Novo",        from:"Crush Burger",    stars:"4.7", name:"Smash Double Crispy",        desc:"Dois smash patties de angus, queijo americano derretido, pickles e molho especial.", price:"38", time:"20min", frete:"GrÃ¡tis", q:"smash+burger+duplo",             bg:"linear-gradient(135deg,#1a0c04,#2b1508)", tag:"Novidades" },
  { emoji:"ğŸ¥©", badge:"ğŸ† Top avaliado",from:"Fogo e Brasa",   stars:"4.9", name:"Costela Bovina na Brasa",    desc:"Cozida por 12 horas, desfiando no garfo, com vinagrete especial e farofa.",       price:"67", time:"40min", frete:"R$8",    q:"costela+bovina+churrasco",       bg:"linear-gradient(135deg,#0a1018,#101a28)", tag:"Mais pedidos" },
  { emoji:"ğŸ‡", badge:"ğŸŒ¿ SaudÃ¡vel",   from:"RaÃ­zes do Norte", stars:"4.8", name:"Bowl de AÃ§aÃ­ AmazÃ´nico",     desc:"AÃ§aÃ­ puro do ParÃ¡, granola artesanal, banana, morango e mel silvestre.",         price:"26", time:"15min", frete:"GrÃ¡tis", q:"bowl+acai+para",                 bg:"linear-gradient(135deg,#1a0a0a,#2b1212)", tag:"PromoÃ§Ãµes" },
  { emoji:"ğŸŒ®", badge:"ğŸŒ¶ Picante",    from:"El Rancho",       stars:"4.6", name:"Combo Tacos al Pastor",      desc:"4 tacos com carne marinada, abacaxi grelhado, cebola roxa e molho chipotle.",   price:"44", time:"30min", frete:"R$3",    q:"tacos+al+pastor",                bg:"linear-gradient(135deg,#120d1a,#1c1228)", tag:"PromoÃ§Ãµes" },
];

const drinks = [
  { emoji:"ğŸ¥¤", name:"Limonada SuÃ­Ã§a",   desc:"Leite condensado, limÃ£o siciliano e menta fresca batidos na hora.",    price:"18", color:"linear-gradient(135deg,#1a3a1a,#2d6b2d)", badge:"ğŸŒ¿ Refrescante", kcal:"180 kcal" },
  { emoji:"ğŸ§ƒ", name:"Suco de Manga",     desc:"Manga Tommy fresca, sem adiÃ§Ã£o de aÃ§Ãºcar. 100% natural.",              price:"14", color:"linear-gradient(135deg,#3a2000,#7a4500)", badge:"ğŸ”¥ Top",         kcal:"120 kcal" },
  { emoji:"ğŸµ", name:"ChÃ¡ Gelado Hibisco",desc:"Hibisco, gengibre, mel e limÃ£o. Servido com pedras de gelo.",          price:"16", color:"linear-gradient(135deg,#3a001a,#7a0040)", badge:"âœ¦ Especial",     kcal:"90 kcal"  },
  { emoji:"ğŸ¥›", name:"Vitamina de AÃ§aÃ­",  desc:"AÃ§aÃ­ puro, banana, aveia e mel. Energia para o dia todo.",             price:"22", color:"linear-gradient(135deg,#1a0a2e,#3d1460)", badge:"ğŸ’œ Premium",     kcal:"280 kcal" },
  { emoji:"ğŸ¹", name:"Ãgua de Coco Fresca",desc:"Diretamente do coco verde, gelada e natural.",                        price:"12", color:"linear-gradient(135deg,#0a2e2e,#145050)", badge:"ğŸŒ´ Fresh",        kcal:"60 kcal"  },
];

const restaurants = [
  { icon:"ğŸ•", name:"Bella Napoli",    type:"Pizzaria Italiana",   tags:["Artesanal","Forno a Lenha"], rating:"4.9", time:"~25 min", q:"Bella+Napoli+pizza" },
  { icon:"ğŸ±", name:"Sakura House",    type:"CulinÃ¡ria Japonesa",  tags:["Sushi","Temaki","Premium"],  rating:"4.8", time:"~35 min", q:"Sakura+House+sushi" },
  { icon:"ğŸ”", name:"Crush Burger",    type:"Hamburgeria",          tags:["Smash","Angus","Gourmet"],   rating:"4.7", time:"~20 min", q:"smash+burger+artesanal" },
  { icon:"ğŸ”¥", name:"Fogo e Brasa",    type:"Churrascaria Premium", tags:["Costela","Picanha"],         rating:"4.9", time:"~40 min", q:"churrasco+costela+brasa" },
  { icon:"ğŸŒ¿", name:"RaÃ­zes do Norte", type:"AÃ§aÃ­ e SaÃºde",         tags:["Vegano","Natural"],          rating:"4.8", time:"~15 min", q:"acai+natural+saudavel" },
  { icon:"ğŸŒ®", name:"El Rancho",       type:"CulinÃ¡ria Mexicana",   tags:["Tacos","Burritos"],          rating:"4.6", time:"~30 min", q:"tacos+burritos+mexicano" },
  { icon:"ğŸ", name:"Pasta Mia",       type:"Massas Artesanais",    tags:["Fresca","Italiana"],         rating:"4.7", time:"~30 min", q:"massa+italiana+pasta+fresca" },
];

const hours = [
  { day:"Segunda",  range:"11h â€“ 22h" },
  { day:"TerÃ§a",    range:"11h â€“ 22h" },
  { day:"Quarta",   range:"11h â€“ 22h" },
  { day:"Quinta",   range:"11h â€“ 23h" },
  { day:"Sexta",    range:"11h â€“ 00h" },
  { day:"SÃ¡bado",   range:"10h â€“ 00h" },
  { day:"Domingo",  range:"10h â€“ 22h" },
];

const FILTER_TABS = ["Todos","Mais pedidos","Novidades","Premium","PromoÃ§Ãµes"];
const ifoodUrl = (q) => `https://www.ifood.com.br/delivery/busca?q=${q}`;

// â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function isOpen() {
  const now  = new Date();
  const day  = now.getDay();          // 0 = Sun
  const hour = now.getHours() + now.getMinutes() / 60;
  if (day === 0)            return hour >= 10 && hour < 22;
  if (day === 6)            return hour >= 10 && hour < 24;
  if (day === 5)            return hour >= 11;          // sexta fecha meia-noite
  if (day === 4)            return hour >= 11 && hour < 23;
  return                           hour >= 11 && hour < 22;
}

// â”€â”€ REVEAL HOOK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function useReveal() {
  const ref = useRef(null);
  const [visible, setVisible] = useState(false);
  useEffect(() => {
    const el = ref.current; if (!el) return;
    const obs = new IntersectionObserver(([e]) => { if (e.isIntersecting) { setVisible(true); obs.unobserve(el); } }, { threshold: 0.1 });
    obs.observe(el);
    return () => obs.disconnect();
  }, []);
  return [ref, visible];
}

// â”€â”€ COMPONENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function RevealDiv({ children, style = {}, delay = 0 }) {
  const [ref, vis] = useReveal();
  return (
    <div ref={ref} style={{ opacity: vis ? 1 : 0, transform: vis ? "translateY(0)" : "translateY(36px)", transition: `opacity .7s ${delay}s ease, transform .7s ${delay}s ease`, ...style }}>
      {children}
    </div>
  );
}

// â”€â”€ MAIN APP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export default function App() {
  const [darkMode,   setDarkMode]   = useState(true);
  const [scrolled,   setScrolled]   = useState(false);
  const [showTop,    setShowTop]    = useState(false);
  const [filter,     setFilter]     = useState("Todos");
  const [favs,       setFavs]       = useState({});
  const [drinkIdx,   setDrinkIdx]   = useState(0);
  const [leaves,     setLeaves]     = useState([]);
  const [soundOn,    setSoundOn]    = useState(false);
  const [typedText,  setTypedText]  = useState("");
  const [bannerOn,   setBannerOn]   = useState(true);
  const sliderRef = useRef(null);
  const open = isOpen();

  // dark / light colours
  const c = darkMode ? {
    bg:"#0d0a07", bg2:"#111009", card:"#181210", card2:"#201a14",
    cream:"#f0e6d3", orange:"#ff4d00", orangeL:"#ff7b3a", gold:"#d4a843",
    muted:"#6b5c48", text:"#c8baa8", nav:"rgba(13,10,7,0.97)", border:"rgba(255,255,255,0.06)",
    divider:"rgba(255,255,255,0.05)", shadow:"rgba(0,0,0,0.5)",
  } : {
    bg:"#faf7f2", bg2:"#f0ebe0", card:"#ffffff", card2:"#fdf8f0",
    cream:"#2d2010", orange:"#e03d00", orangeL:"#d06030", gold:"#b8860b",
    muted:"#8a7060", text:"#3d2d1a", nav:"rgba(250,247,242,0.97)", border:"rgba(0,0,0,0.08)",
    divider:"rgba(0,0,0,0.07)", shadow:"rgba(0,0,0,0.12)",
  };

  // â”€â”€ typing effect â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const fullText = "Cada prato, uma obra de arte.";
  useEffect(() => {
    let i = 0; setTypedText("");
    const id = setInterval(() => {
      i++; setTypedText(fullText.slice(0, i));
      if (i >= fullText.length) clearInterval(id);
    }, 60);
    return () => clearInterval(id);
  }, []);

  // â”€â”€ scroll events â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  useEffect(() => {
    const fn = () => { setScrolled(window.scrollY > 50); setShowTop(window.scrollY > 300); };
    window.addEventListener("scroll", fn);
    return () => window.removeEventListener("scroll", fn);
  }, []);

  // â”€â”€ leaves â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  useEffect(() => {
    const id = setInterval(() => {
      const leaf = { id: Date.now(), left: Math.random() * 100, dur: 4 + Math.random() * 4, emoji: ["ğŸƒ","ğŸŒ¿","ğŸ‚"][Math.floor(Math.random()*3)] };
      setLeaves(p => [...p.slice(-8), leaf]);
    }, 3000);
    return () => clearInterval(id);
  }, []);

  // â”€â”€ drink slider scroll sync â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  useEffect(() => {
    const el = sliderRef.current; if (!el) return;
    const fn = () => {
      const slides = el.querySelectorAll("[data-slide]");
      const cx = el.scrollLeft + el.clientWidth / 2;
      let best = 0, bestD = Infinity;
      slides.forEach((s, i) => {
        const d = Math.abs(s.offsetLeft + s.offsetWidth / 2 - cx);
        if (d < bestD) { bestD = d; best = i; }
      });
      setDrinkIdx(best);
    };
    el.addEventListener("scroll", fn, { passive: true });
    return () => el.removeEventListener("scroll", fn);
  }, []);

  const scrollToDrink = (i) => {
    const el = sliderRef.current; if (!el) return;
    const slides = el.querySelectorAll("[data-slide]");
    if (slides[i]) slides[i].scrollIntoView({ behavior: "smooth", block: "nearest", inline: "center" });
    setDrinkIdx(i);
  };

  const toggleFav = (i) => setFavs(f => ({ ...f, [i]: !f[i] }));
  const filteredDishes = filter === "Todos" ? dishes : dishes.filter(d => d.tag === filter);

  // â”€â”€ styles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const S = {
    app:    { background: c.bg, minHeight:"100vh", fontFamily:"'Georgia',serif", color: c.text, overflowX:"hidden", transition:"background .5s,color .5s" },
    nav:    { position:"sticky", top:0, zIndex:200, background: c.nav, backdropFilter:"blur(16px)", borderBottom:`1px solid ${c.border}`, padding: scrolled ? "10px 24px" : "16px 24px", display:"flex", justifyContent:"space-between", alignItems:"center", transition:"padding .3s,box-shadow .3s", boxShadow: scrolled ? "0 4px 20px rgba(0,0,0,0.3)" : "none" },
    logo:   { fontFamily:"Georgia,serif", fontSize: scrolled ? 18 : 22, fontWeight:700, color: c.cream, textDecoration:"none", transition:"font-size .3s" },
    pill:   (active) => ({ background: active ? c.orange : "transparent", color: active ? "#fff" : c.muted, border:`1px solid ${active ? c.orange : c.border}`, padding:"8px 18px", borderRadius:100, fontSize:13, fontWeight:600, cursor:"pointer", fontFamily:"sans-serif", transition:"all .25s", whiteSpace:"nowrap" }),
  };

  const todayIdx = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;

  return (
    <div style={S.app}>

      {/* â”€â”€ LEAVES â”€â”€ */}
      {leaves.map(l => (
        <div key={l.id} style={{ position:"fixed", top:"-5%", left:`${l.left}%`, zIndex:9998, pointerEvents:"none", fontSize:20, animation:`fallLeaf ${l.dur}s linear forwards` }}>
          {l.emoji}
        </div>
      ))}
      <style>{`
        @keyframes fallLeaf { to { transform: translateY(110vh) rotate(720deg); opacity:0; } }
        @keyframes blink    { 0%,100%{border-color:currentColor} 50%{border-color:transparent} }
        @keyframes pulseDot { 0%,100%{opacity:1} 50%{opacity:.3} }
        @keyframes bannerSlide { 0%{background-position:0% 50%} 100%{background-position:300% 50%} }
        @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
        ::-webkit-scrollbar { width:6px; height:6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,77,0,0.3); border-radius:3px; }
      `}</style>

      {/* â”€â”€ PROMO BANNER â”€â”€ */}
      {bannerOn && (
        <div style={{ background:"linear-gradient(90deg,#b5451b,#ff4d00,#e8925a,#ff4d00,#b5451b)", backgroundSize:"300% 100%", animation:"bannerSlide 5s linear infinite", color:"#fff", padding:"8px 48px 8px 16px", fontSize:12, fontWeight:600, fontFamily:"sans-serif", textAlign:"center", position:"relative" }}>
          ğŸ‰ Primeira entrega com <span style={{ background:"rgba(255,255,255,0.25)", padding:"2px 8px", borderRadius:100, margin:"0 4px" }}>30% OFF</span> no iFood Â· VÃ¡lido para novos usuÃ¡rios!
          <button onClick={() => setBannerOn(false)} style={{ position:"absolute", right:12, top:"50%", transform:"translateY(-50%)", background:"none", border:"none", color:"#fff", cursor:"pointer", fontSize:16, lineHeight:1 }}>Ã—</button>
        </div>
      )}

      {/* â”€â”€ NAV â”€â”€ */}
      <nav style={S.nav}>
        <a href="#" style={S.logo}>Sabo<span style={{ color: c.orange }}>res</span></a>

        {/* Status badge */}
        <div style={{ display:"flex", alignItems:"center", gap:6, background:"rgba(0,0,0,0.2)", padding:"4px 10px", borderRadius:20, marginLeft:12 }}>
          <div style={{ width:8, height:8, borderRadius:"50%", background: open ? "#2ecc71" : "#e74c3c", boxShadow: open ? "0 0 8px #2ecc71" : "none", animation: open ? "pulseDot 2s infinite" : "none" }} />
          <span style={{ fontSize:11, fontWeight:700, color: open ? "#2ecc71" : "#e74c3c", fontFamily:"sans-serif", whiteSpace:"nowrap" }}>
            {open ? "Aberto agora" : "Fechado"}
          </span>
        </div>

        <div style={{ display:"flex", gap:10, alignItems:"center", marginLeft:"auto" }}>
          {/* Sound */}
          <button onClick={() => setSoundOn(s => !s)} title="Som" style={{ background:"none", border:"none", cursor:"pointer", fontSize:18, color: soundOn ? "#2ecc71" : c.muted, filter: soundOn ? "drop-shadow(0 0 6px #2ecc71)" : "none", transition:"all .3s" }}>
            {soundOn ? "ğŸ”Š" : "ğŸ”‡"}
          </button>
          {/* Dark/light */}
          <button onClick={() => setDarkMode(d => !d)} title="Tema" style={{ background:"none", border:"none", cursor:"pointer", fontSize:18, color: c.gold }}>
            {darkMode ? "â˜€ï¸" : "ğŸŒ™"}
          </button>
          {/* iFood CTA */}
          <a href="https://www.ifood.com.br" target="_blank" rel="noreferrer"
            style={{ background: c.orange, color:"#fff", padding:"9px 18px", borderRadius:100, fontSize:13, fontWeight:700, textDecoration:"none", display:"flex", alignItems:"center", gap:6, animation:"bounce 3s ease-in-out infinite", fontFamily:"sans-serif" }}>
            ğŸ›µ iFood
          </a>
        </div>
      </nav>

      {/* â”€â”€ HERO â”€â”€ */}
      <section style={{ padding:"64px 24px 72px", textAlign:"center", background:`radial-gradient(ellipse 80% 50% at 50% 0%, rgba(255,77,0,0.1) 0%, transparent 70%)` }}>
        <div style={{ display:"inline-flex", alignItems:"center", gap:8, background:"rgba(255,77,0,0.1)", border:`1px solid rgba(255,77,0,0.25)`, color: c.orangeL, fontSize:11, letterSpacing:"0.15em", textTransform:"uppercase", padding:"7px 16px", borderRadius:100, marginBottom:28, fontFamily:"sans-serif" }}>
          <span style={{ width:6, height:6, background: c.orange, borderRadius:"50%", display:"inline-block", animation:"pulseDot 2s infinite" }} />
          Entrega em atÃ© 30 minutos
        </div>

        <h1 style={{ fontFamily:"Georgia,serif", fontSize:"clamp(36px,8vw,76px)", fontWeight:900, lineHeight:1.0, color: c.cream, marginBottom:20, minHeight:"1.2em" }}>
          <span style={{ borderRight:`3px solid ${c.orange}`, paddingRight:4, animation:"blink .75s step-end infinite" }}>
            {typedText}
          </span>
        </h1>

        <p style={{ fontSize:15, lineHeight:1.7, color: c.muted, maxWidth:460, margin:"0 auto 32px", fontFamily:"sans-serif", fontWeight:300 }}>
          Descubra os melhores sabores da cidade. Escolha o que te encanta e pedimos pelo iFood.
        </p>
        <div style={{ display:"flex", gap:12, justifyContent:"center", flexWrap:"wrap" }}>
          <a href="#pratos" style={{ background: c.orange, color:"#fff", padding:"14px 30px", borderRadius:100, fontSize:14, fontWeight:700, textDecoration:"none", fontFamily:"sans-serif" }}>ğŸ½ Explorar Pratos</a>
          <a href="#categorias" style={{ color: c.muted, padding:"14px 22px", borderRadius:100, fontSize:13, textDecoration:"none", border:`1px solid ${c.border}`, fontFamily:"sans-serif" }}>Ver Categorias â†’</a>
        </div>
        <div style={{ marginTop:48, display:"flex", justifyContent:"center", gap:14, flexWrap:"wrap" }}>
          {["ğŸ•","ğŸ”","ğŸ±","ğŸ¥©","ğŸ"].map((e,i) => (
            <div key={i} style={{ width:60, height:60, background: c.card, border:`1px solid ${c.border}`, borderRadius:"50%", display:"flex", alignItems:"center", justifyContent:"center", fontSize:26, animation:`bounce ${3+i*0.4}s ease-in-out infinite` }}>{e}</div>
          ))}
        </div>
      </section>

      {/* â”€â”€ CATEGORIES â”€â”€ */}
      <section id="categorias" style={{ padding:"56px 24px", background: c.bg2 }}>
        <RevealDiv>
          <div style={{ display:"flex", alignItems:"center", gap:12, marginBottom:10 }}>
            <div style={{ width:24, height:1, background: c.orange }} />
            <span style={{ fontSize:11, letterSpacing:"0.18em", textTransform:"uppercase", color: c.orangeL, fontFamily:"sans-serif" }}>O que vocÃª quer hoje?</span>
          </div>
          <h2 style={{ fontFamily:"Georgia,serif", fontSize:"clamp(26px,5vw,40px)", fontWeight:900, color: c.cream, marginBottom:32, lineHeight:1.1 }}>
            Escolha sua <em style={{ color: c.orange }}>categoria</em>
          </h2>
          <div style={{ display:"grid", gridTemplateColumns:"repeat(auto-fill,minmax(90px,1fr))", gap:10 }}>
            {categories.map((cat,i) => (
              <a key={i} href={ifoodUrl(cat.q)} target="_blank" rel="noreferrer"
                style={{ display:"flex", flexDirection:"column", alignItems:"center", gap:8, padding:"20px 8px", borderRadius:14, background: c.card, border:`1px solid ${c.border}`, textDecoration:"none", transition:"all .25s" }}
                onMouseEnter={e => { e.currentTarget.style.background = c.card2; e.currentTarget.style.borderColor = "rgba(255,77,0,0.2)"; e.currentTarget.style.transform = "translateY(-5px)"; }}
                onMouseLeave={e => { e.currentTarget.style.background = c.card;  e.currentTarget.style.borderColor = c.border;              e.currentTarget.style.transform = "translateY(0)"; }}>
                <span style={{ fontSize:30 }}>{cat.emoji}</span>
                <span style={{ fontSize:11, color: c.muted, fontFamily:"sans-serif", textAlign:"center" }}>{cat.label}</span>
              </a>
            ))}
          </div>
        </RevealDiv>
      </section>

      {/* â”€â”€ DISHES â”€â”€ */}
      <section id="pratos" style={{ padding:"56px 24px" }}>
        <RevealDiv>
          <div style={{ display:"flex", alignItems:"center", gap:12, marginBottom:10 }}>
            <div style={{ width:24, height:1, background: c.orange }} />
            <span style={{ fontSize:11, letterSpacing:"0.18em", textTransform:"uppercase", color: c.orangeL, fontFamily:"sans-serif" }}>SeleÃ§Ã£o da casa</span>
          </div>
          <div style={{ display:"flex", flexWrap:"wrap", justifyContent:"space-between", alignItems:"flex-end", marginBottom:28, gap:16 }}>
            <h2 style={{ fontFamily:"Georgia,serif", fontSize:"clamp(26px,5vw,40px)", fontWeight:900, color: c.cream, lineHeight:1.1 }}>
              Pratos em <span style={{ color: c.gold }}>destaque</span>
            </h2>
            {/* Filter tabs */}
            <div style={{ display:"flex", gap:8, flexWrap:"wrap" }}>
              {FILTER_TABS.map(tab => (
                <button key={tab} onClick={() => setFilter(tab)} style={S.pill(filter === tab)}>{tab}</button>
              ))}
            </div>
          </div>

          <div style={{ display:"grid", gridTemplateColumns:"repeat(auto-fill,minmax(280px,1fr))", gap:20 }}>
            {filteredDishes.map((d,i) => (
              <div key={i} style={{ position:"relative" }}>
                <a href={ifoodUrl(d.q)} target="_blank" rel="noreferrer"
                  style={{ background: c.card, border:`1px solid ${c.border}`, borderRadius:20, overflow:"hidden", textDecoration:"none", display:"block", transition:"all .3s" }}
                  onMouseEnter={e => { e.currentTarget.style.transform = "translateY(-8px)"; e.currentTarget.style.borderColor = "rgba(255,77,0,0.18)"; e.currentTarget.style.boxShadow = `0 24px 48px ${c.shadow}`; }}
                  onMouseLeave={e => { e.currentTarget.style.transform = "translateY(0)"; e.currentTarget.style.borderColor = c.border; e.currentTarget.style.boxShadow = "none"; }}>
                  {/* image */}
                  <div style={{ height:150, display:"flex", alignItems:"center", justifyContent:"center", fontSize:68, background:d.bg, position:"relative", overflow:"hidden" }}>
                    {d.emoji}
                    <div style={{ position:"absolute", top:12, left:12, background:"rgba(13,10,7,0.85)", border:"1px solid rgba(255,255,255,0.08)", borderRadius:100, padding:"3px 10px", fontSize:10, color: c.gold, fontFamily:"sans-serif", fontWeight:600 }}>{d.badge}</div>
                    <button onClick={ev => { ev.preventDefault(); ev.stopPropagation(); toggleFav(i); }}
                      style={{ position:"absolute", top:10, right:12, width:34, height:34, background:"rgba(13,10,7,0.85)", border:"1px solid rgba(255,255,255,0.08)", borderRadius:"50%", display:"flex", alignItems:"center", justifyContent:"center", cursor:"pointer", fontSize:15, color: favs[i] ? "#ff4d00" : c.muted, transition:"color .2s" }}>
                      {favs[i] ? "â™¥" : "â™¡"}
                    </button>
                  </div>
                  {/* body */}
                  <div style={{ padding:"16px 20px 20px" }}>
                    <div style={{ display:"flex", justifyContent:"space-between", marginBottom:6 }}>
                      <span style={{ fontSize:10, color: c.muted, textTransform:"uppercase", letterSpacing:"0.08em", fontFamily:"sans-serif" }}>{d.from}</span>
                      <span style={{ fontSize:11, color: c.gold, fontWeight:600, fontFamily:"sans-serif" }}>â­ {d.stars}</span>
                    </div>
                    <div style={{ fontFamily:"Georgia,serif", fontSize:18, fontWeight:700, color: c.cream, marginBottom:6, lineHeight:1.2 }}>{d.name}</div>
                    <div style={{ fontSize:12, color: c.muted, lineHeight:1.55, marginBottom:16, fontFamily:"sans-serif", fontWeight:300 }}>{d.desc}</div>
                    <div style={{ display:"flex", alignItems:"center", justifyContent:"space-between", gap:8 }}>
                      <div>
                        <div style={{ fontSize:9, color: c.muted, textTransform:"uppercase", letterSpacing:"0.1em", fontFamily:"sans-serif" }}>A partir de</div>
                        <div style={{ fontFamily:"Georgia,serif", fontSize:22, fontWeight:700, color: c.cream }}><sup style={{ fontSize:12, fontFamily:"sans-serif", fontWeight:400 }}>R$</sup>{d.price}</div>
                      </div>
                      <div style={{ display:"flex", gap:8, alignItems:"center" }}>
                        <span style={{ fontSize:11, color: c.muted, fontFamily:"sans-serif" }}>ğŸ• {d.time}</span>
                        <span style={{ fontSize:11, color: c.muted, fontFamily:"sans-serif" }}>ğŸ {d.frete}</span>
                        <div style={{ width:38, height:38, background: c.orange, borderRadius:"50%", display:"flex", alignItems:"center", justifyContent:"center", color:"#fff", fontSize:16, flexShrink:0 }}>â†’</div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            ))}
          </div>
        </RevealDiv>
      </section>

      {/* â”€â”€ DRINKS SLIDER â”€â”€ */}
      <section id="bebidas" style={{ padding:"72px 0", background: c.bg2, textAlign:"center", position:"relative", overflow:"hidden" }}>
        {/* bubbles */}
        {[...Array(8)].map((_,i) => (
          <div key={i} style={{ position:"absolute", bottom:-20, left:`${10+i*11}%`, width: 6+i*4, height: 6+i*4, borderRadius:"50%", background:"rgba(255,255,255,0.05)", animation:`riseUp ${4+i*1.2}s ${i*0.6}s linear infinite` }} />
        ))}
        <style>{`@keyframes riseUp{0%{transform:translateY(0);opacity:0}10%{opacity:1}90%{opacity:.4}100%{transform:translateY(-120vh);opacity:0}}`}</style>

        <RevealDiv style={{ padding:"0 24px", marginBottom:32 }}>
          <div style={{ display:"flex", alignItems:"center", gap:12, marginBottom:10, justifyContent:"center" }}>
            <div style={{ width:24, height:1, background: c.orange }} />
            <span style={{ fontSize:11, letterSpacing:"0.18em", textTransform:"uppercase", color: c.orangeL, fontFamily:"sans-serif" }}>Para acompanhar</span>
            <div style={{ width:24, height:1, background: c.orange }} />
          </div>
          <h2 style={{ fontFamily:"Georgia,serif", fontSize:"clamp(26px,5vw,40px)", fontWeight:900, color: c.cream, lineHeight:1.1 }}>
            Nossas <em style={{ color: c.orange }}>bebidas</em>
          </h2>
        </RevealDiv>

        {/* slider */}
        <div ref={sliderRef} style={{ display:"flex", gap:20, padding:"10px 10%", overflowX:"auto", scrollSnapType:"x mandatory", alignItems:"center", scrollbarWidth:"none" }}>
          {drinks.map((dr, i) => {
            const active = drinkIdx === i;
            return (
              <div key={i} data-slide={i}
                onClick={() => scrollToDrink(i)}
                style={{
                  minWidth:270, height:440,
                  background: active ? "rgba(255,255,255,0.12)" : "rgba(255,255,255,0.03)",
                  backdropFilter:"blur(15px)", border: active ? `1.5px solid rgba(255,255,255,0.4)` : `1px solid rgba(255,255,255,0.08)`,
                  borderRadius:36, padding:"28px 20px",
                  scrollSnapAlign:"center", transition:"all .5s ease",
                  opacity: active ? 1 : 0.45, transform: active ? "scale(1.05)" : "scale(0.87)",
                  display:"flex", flexDirection:"column", alignItems:"center", justifyContent:"space-between",
                  background: active ? dr.color : c.card,
                  boxShadow: active ? `0 20px 40px ${c.shadow}, 0 0 30px rgba(255,255,255,0.06)` : "none",
                  cursor:"pointer", position:"relative",
                }}>
                {/* badge */}
                <div style={{ position:"absolute", top:16, right:16, fontSize:10, fontWeight:700, padding:"4px 10px", borderRadius:20, background:"rgba(255,255,255,0.2)", backdropFilter:"blur(6px)", color:"#fff", letterSpacing:"0.5px", fontFamily:"sans-serif" }}>{dr.badge}</div>
                <div style={{ fontSize:70, marginBottom:8, filter: active ? "drop-shadow(0 10px 15px rgba(0,0,0,0.4))" : "none", transition:"transform .5s", transform: active ? "translateY(-8px) rotate(5deg)" : "none" }}>{dr.emoji}</div>
                <div style={{ textAlign:"center", color: active ? "#fff" : c.text }}>
                  <div style={{ fontFamily:"Georgia,serif", fontSize:18, fontWeight:700, marginBottom:6 }}>{dr.name}</div>
                  <div style={{ fontSize:12, opacity:0.8, lineHeight:1.5, marginBottom:8, fontFamily:"sans-serif" }}>{dr.desc}</div>
                  <div style={{ fontSize:10, opacity: active ? 0.7 : 0, transition:"opacity .4s", fontFamily:"sans-serif", marginBottom:8 }}>ğŸ”¥ {dr.kcal}</div>
                  <div style={{ fontWeight:700, fontSize:22, fontFamily:"Georgia,serif" }}>R$ {dr.price}</div>
                </div>
                <a href={ifoodUrl("bebida+"+dr.name.replace(/\s+/g,"+"))} target="_blank" rel="noreferrer"
                  onClick={e => e.stopPropagation()}
                  style={{ background: c.orange, color:"#fff", padding:"10px 24px", borderRadius:100, fontSize:12, fontWeight:700, textDecoration:"none", fontFamily:"sans-serif", opacity: active ? 1 : 0, transition:"opacity .4s", pointerEvents: active ? "auto" : "none" }}>
                  Pedir no iFood â†’
                </a>
              </div>
            );
          })}
        </div>

        {/* dots */}
        <div style={{ display:"flex", justifyContent:"center", gap:8, marginTop:24 }}>
          {drinks.map((_,i) => (
            <button key={i} onClick={() => scrollToDrink(i)} style={{ width:8, height:8, borderRadius:"50%", background: drinkIdx===i ? "#fff" : "rgba(255,255,255,0.3)", border:"none", cursor:"pointer", transform: drinkIdx===i ? "scale(1.3)" : "scale(1)", transition:"all .3s" }} />
          ))}
        </div>
      </section>

      {/* â”€â”€ PROMO BANNER â”€â”€ */}
      <RevealDiv style={{ padding:"0 24px 56px" }}>
        <div style={{ background:"linear-gradient(135deg,#1a0f05,#0d0a07,#150e05)", border:"1px solid rgba(255,77,0,0.2)", borderRadius:24, padding:"48px 36px", display:"flex", alignItems:"center", justifyContent:"space-between", gap:32, flexWrap:"wrap", position:"relative", overflow:"hidden" }}>
          <div style={{ position:"absolute", top:-60, right:-60, width:240, height:240, background:"radial-gradient(circle,rgba(255,77,0,0.1) 0%,transparent 65%)", pointerEvents:"none" }} />
          <div style={{ position:"relative", zIndex:1 }}>
            <div style={{ fontFamily:"Georgia,serif", fontSize:"clamp(52px,10vw,88px)", fontWeight:900, color: c.orange, lineHeight:1, marginBottom:10 }}>-30%</div>
            <div style={{ fontFamily:"Georgia,serif", fontSize:"clamp(20px,3vw,30px)", fontWeight:700, color: c.cream, marginBottom:12 }}>Primeira entrega<br />com desconto especial</div>
            <p style={{ fontSize:14, color: c.muted, lineHeight:1.65, marginBottom:28, maxWidth:360, fontFamily:"sans-serif" }}>FaÃ§a seu primeiro pedido pelo iFood e ganhe 30% de desconto em qualquer restaurante parceiro.</p>
            <a href="https://www.ifood.com.br" target="_blank" rel="noreferrer"
              style={{ background: c.orange, color:"#fff", padding:"14px 28px", borderRadius:100, fontSize:14, fontWeight:700, textDecoration:"none", display:"inline-flex", alignItems:"center", gap:8, fontFamily:"sans-serif" }}>
              ğŸ Aproveitar no iFood
            </a>
          </div>
          <div style={{ fontSize:90, flexShrink:0 }}>ğŸ‰</div>
        </div>
      </RevealDiv>

      {/* â”€â”€ RESTAURANTS â”€â”€ */}
      <section id="restaurantes" style={{ padding:"56px 24px", borderTop:`1px solid ${c.divider}` }}>
        <RevealDiv>
          <div style={{ display:"flex", alignItems:"center", gap:12, marginBottom:10 }}>
            <div style={{ width:24, height:1, background: c.orange }} />
            <span style={{ fontSize:11, letterSpacing:"0.18em", textTransform:"uppercase", color: c.orangeL, fontFamily:"sans-serif" }}>Parceiros selecionados</span>
          </div>
          <h2 style={{ fontFamily:"Georgia,serif", fontSize:"clamp(26px,5vw,40px)", fontWeight:900, color: c.cream, marginBottom:32, lineHeight:1.1 }}>
            Restaurantes em <em style={{ color: c.orange }}>destaque</em>
          </h2>
          <div style={{ display:"flex", gap:14, overflowX:"auto", paddingBottom:10 }}>
            {restaurants.map((r,i) => (
              <a key={i} href={ifoodUrl(r.q)} target="_blank" rel="noreferrer"
                style={{ flex:"0 0 210px", background: c.card, border:`1px solid ${c.border}`, borderRadius:16, padding:22, textDecoration:"none", transition:"all .25s", display:"block" }}
                onMouseEnter={e => { e.currentTarget.style.transform = "translateY(-5px)"; e.currentTarget.style.borderColor = "rgba(255,77,0,0.2)"; }}
                onMouseLeave={e => { e.currentTarget.style.transform = "translateY(0)"; e.currentTarget.style.borderColor = c.border; }}>
                <div style={{ fontSize:36, marginBottom:12 }}>{r.icon}</div>
                <div style={{ fontFamily:"Georgia,serif", fontSize:15, fontWeight:700, color: c.cream, marginBottom:4 }}>{r.name}</div>
                <div style={{ fontSize:11, color: c.muted, marginBottom:12, fontFamily:"sans-serif" }}>{r.type}</div>
                <div style={{ display:"flex", flexWrap:"wrap", gap:5, marginBottom:14 }}>
                  {r.tags.map((t,j) => <span key={j} style={{ padding:"3px 9px", background:"rgba(255,255,255,0.03)", border:`1px solid ${c.border}`, borderRadius:100, fontSize:9, color: c.muted, fontFamily:"sans-serif" }}>{t}</span>)}
                </div>
                <div style={{ display:"flex", gap:14 }}>
                  <div><strong style={{ fontSize:13, color: c.cream, fontFamily:"sans-serif" }}>{r.rating} â­</strong><div style={{ fontSize:9, color: c.muted, fontFamily:"sans-serif", textTransform:"uppercase", letterSpacing:"0.08em" }}>AvaliaÃ§Ã£o</div></div>
                  <div><strong style={{ fontSize:13, color: c.cream, fontFamily:"sans-serif" }}>{r.time}</strong><div style={{ fontSize:9, color: c.muted, fontFamily:"sans-serif", textTransform:"uppercase", letterSpacing:"0.08em" }}>Entrega</div></div>
                </div>
              </a>
            ))}
          </div>
        </RevealDiv>
      </section>

      {/* â”€â”€ FOOTER â”€â”€ */}
      <footer style={{ background: darkMode ? "#080604" : "#1a1208", padding:"60px 24px 40px", borderTop:`1px solid ${c.divider}` }}>
        <RevealDiv>
          <div style={{ display:"grid", gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))", gap:40, maxWidth:960, margin:"0 auto 48px" }}>
            {/* brand */}
            <div>
              <div style={{ fontFamily:"Georgia,serif", fontSize:32, fontWeight:700, color: c.cream, marginBottom:8 }}>Sabo<span style={{ color: c.orange }}>res</span></div>
              <p style={{ fontSize:13, color: c.muted, lineHeight:1.7, fontFamily:"sans-serif" }}>Vitrine de inspiraÃ§Ã£o culinÃ¡ria.<br />Todos os pedidos sÃ£o processados pelo iFood.</p>
            </div>
            {/* hours */}
            <div>
              <div style={{ fontFamily:"Georgia,serif", fontSize:18, color: c.gold, marginBottom:16 }}>HorÃ¡rios</div>
              <ul style={{ listStyle:"none", fontFamily:"sans-serif" }}>
                {hours.map((h,i) => (
                  <li key={i} style={{ display:"flex", justifyContent:"space-between", padding:"4px 0", fontSize:13, color: i === todayIdx ? c.gold : c.muted, fontWeight: i === todayIdx ? 700 : 400, borderBottom:`1px solid ${c.divider}` }}>
                    <span>{h.day}</span><span>{h.range}</span>
                  </li>
                ))}
              </ul>
            </div>
            {/* links */}
            <div>
              <div style={{ fontFamily:"Georgia,serif", fontSize:18, color: c.gold, marginBottom:16 }}>Links</div>
              {[["ğŸ½ CardÃ¡pio","#pratos"],["ğŸ—‚ Categorias","#categorias"],["ğŸ¥¤ Bebidas","#bebidas"],["ğŸª Restaurantes","#restaurantes"]].map(([l,h]) => (
                <a key={l} href={h} style={{ display:"block", fontSize:13, color: c.muted, textDecoration:"none", lineHeight:2.2, fontFamily:"sans-serif", transition:"color .2s" }}
                  onMouseEnter={e => e.currentTarget.style.color = c.cream}
                  onMouseLeave={e => e.currentTarget.style.color = c.muted}>{l}</a>
              ))}
            </div>
          </div>

          {/* big CTA */}
          <a href="https://www.ifood.com.br" target="_blank" rel="noreferrer"
            style={{ display:"block", maxWidth:400, margin:"0 auto 24px", padding:"20px", borderRadius:16, textAlign:"center", background: c.orange, color:"#fff", textDecoration:"none", fontWeight:700, fontSize:16, fontFamily:"sans-serif" }}>
            ğŸ›µ Ir para o iFood e pedir agora
          </a>

          <p style={{ textAlign:"center", fontSize:11, color: c.muted, fontFamily:"sans-serif" }}>
            Â© {new Date().getFullYear()} Sabores Â· Vitrine de inspiraÃ§Ã£o culinÃ¡ria
          </p>
        </RevealDiv>
      </footer>

      {/* â”€â”€ WHATSAPP FLOAT â”€â”€ */}
      <a href="https://wa.me/5511999999999" target="_blank" rel="noreferrer"
        style={{ position:"fixed", bottom:24, right:24, width:56, height:56, background:"#25D366", borderRadius:"50%", display:"flex", alignItems:"center", justifyContent:"center", fontSize:30, textDecoration:"none", zIndex:500, boxShadow:"0 4px 20px rgba(37,211,102,0.45)", transition:"all .3s" }}
        onMouseEnter={e => { e.currentTarget.style.transform = "scale(1.12) rotate(-8deg)"; e.currentTarget.style.boxShadow = "0 8px 30px rgba(37,211,102,0.65)"; }}
        onMouseLeave={e => { e.currentTarget.style.transform = "scale(1) rotate(0)"; e.currentTarget.style.boxShadow = "0 4px 20px rgba(37,211,102,0.45)"; }}>
        ğŸ’¬
      </a>

      {/* â”€â”€ BACK TO TOP â”€â”€ */}
      <button onClick={() => window.scrollTo({ top:0, behavior:"smooth" })}
        style={{ position:"fixed", bottom:92, right:28, width:40, height:40, background: c.orange, border:"none", borderRadius:"50%", color:"#fff", fontSize:18, cursor:"pointer", zIndex:500, opacity: showTop ? 1 : 0, transform: showTop ? "translateY(0)" : "translateY(10px)", transition:"all .3s", pointerEvents: showTop ? "auto" : "none" }}>
        â†‘
      </button>

    </div>
  );
}
